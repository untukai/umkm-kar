steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Set up JDK 17
    uses: actions/setup-java@v4
    with:
      java-version: '17'
      distribution: 'temurin'
      cache: gradle

  - name: Grant execute permission for gradlew
    run: chmod +x app/gradlew

  - name: Build with Gradle
    run: app/gradlew assembleDebug
    # atau kalau modulnya app
    # run: app/gradlew :app:assembleDebug

  - name: List APK outputs
    run: ls -R

  - name: Upload APK as artifact
    uses: actions/upload-artifact@v4
    with:
      name: KODIK-Android-APK
      path: app/build/outputs/apk/**/*.apk
